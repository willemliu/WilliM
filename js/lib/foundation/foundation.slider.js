!function(t,e,a,i){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.3",settings:{start:0,end:100,step:1,precision:2,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(t,e,a){Foundation.inherit(this,"throttle"),this.bindings(e,a),this.reflow()},events:function(){var a=this;t(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+a.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(e){a.cache.active||(e.preventDefault(),a.set_active_slider(t(e.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(i){if(a.cache.active)if(i.preventDefault(),t.data(a.cache.active[0],"settings").vertical){var n=0;i.pageY||(n=e.scrollY),a.calculate_position(a.cache.active,a.get_cursor_position(i,"y")+n)}else a.calculate_position(a.cache.active,a.get_cursor_position(i,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(i){if(!a.cache.active){var n="slider"===t(i.target).attr("role")?t(i.target):t(i.target).closest(".range-slider").find("[role='slider']");if(n.length&&!n.parent().hasClass("disabled")&&!n.parent().attr("disabled"))if(a.set_active_slider(n),t.data(a.cache.active[0],"settings").vertical){var r=0;i.pageY||(r=e.scrollY),a.calculate_position(a.cache.active,a.get_cursor_position(i,"y")+r)}else a.calculate_position(a.cache.active,a.get_cursor_position(i,"x"))}a.remove_active_slider()}).on("change.fndtn.slider",function(t){a.settings.on_change()}),a.S(e).on("resize.fndtn.slider",a.throttle(function(t){a.reflow()},300)),this.S("["+this.attr_name()+"]").each(function(){var e=t(this),i=e.children(".range-slider-handle")[0],n=a.initialize_settings(i);""!=n.display_selector&&t(n.display_selector).each(function(){t(this).attr("value")&&t(this).off("change").on("change",function(){e.foundation("slider","set_value",t(this).val())})})})},get_cursor_position:function(t,e){var a,i="page"+e.toUpperCase(),n="client"+e.toUpperCase();return"undefined"!=typeof t[i]?a=t[i]:"undefined"!=typeof t.originalEvent[n]?a=t.originalEvent[n]:t.originalEvent.touches&&t.originalEvent.touches[0]&&"undefined"!=typeof t.originalEvent.touches[0][n]?a=t.originalEvent.touches[0][n]:t.currentPoint&&"undefined"!=typeof t.currentPoint[e]&&(a=t.currentPoint[e]),a},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(e,a){var i=this,n=t.data(e[0],"settings"),r=(t.data(e[0],"handle_l"),t.data(e[0],"handle_o"),t.data(e[0],"bar_l")),s=t.data(e[0],"bar_o");requestAnimationFrame(function(){var t;t=Foundation.rtl&&!n.vertical?i.limit_to((s+r-a)/r,0,1):i.limit_to((a-s)/r,0,1),t=n.vertical?1-t:t;var o=i.normalized_value(t,n.start,n.end,n.step,n.precision);i.set_ui(e,o)})},set_ui:function(e,a){var i=t.data(e[0],"settings"),n=t.data(e[0],"handle_l"),r=t.data(e[0],"bar_l"),s=this.normalized_percentage(a,i.start,i.end),o=s*(r-n)-1,l=100*s,c=e.parent(),d=e.parent().children("input[type=hidden]");Foundation.rtl&&!i.vertical&&(o=-o),o=i.vertical?-o+r-n+1:o,this.set_translate(e,o,i.vertical),i.vertical?e.siblings(".range-slider-active-segment").css("height",l+"%"):e.siblings(".range-slider-active-segment").css("width",l+"%"),c.attr(this.attr_name(),a).trigger("change.fndtn.slider"),d.val(a),i.trigger_input_change&&d.trigger("change.fndtn.slider"),e[0].hasAttribute("aria-valuemin")||e.attr({"aria-valuemin":i.start,"aria-valuemax":i.end}),e.attr("aria-valuenow",a),""!=i.display_selector&&t(i.display_selector).each(function(){this.hasAttribute("value")?t(this).val(a):t(this).text(a)})},normalized_percentage:function(t,e,a){return Math.min(1,(t-e)/(a-e))},normalized_value:function(t,e,a,i,n){var r=a-e,s=t*r,o=(s-s%i)/i,l=s%i,c=l>=.5*i?i:0;return(o*i+c+e).toFixed(n)},set_translate:function(e,a,i){i?t(e).css("-webkit-transform","translateY("+a+"px)").css("-moz-transform","translateY("+a+"px)").css("-ms-transform","translateY("+a+"px)").css("-o-transform","translateY("+a+"px)").css("transform","translateY("+a+"px)"):t(e).css("-webkit-transform","translateX("+a+"px)").css("-moz-transform","translateX("+a+"px)").css("-ms-transform","translateX("+a+"px)").css("-o-transform","translateX("+a+"px)").css("transform","translateX("+a+"px)")},limit_to:function(t,e,a){return Math.min(Math.max(t,e),a)},initialize_settings:function(e){var a,i=t.extend({},this.settings,this.data_options(t(e).parent()));return null===i.precision&&(a=(""+i.step).match(/\.([\d]*)/),i.precision=a&&a[1]?a[1].length:0),i.vertical?(t.data(e,"bar_o",t(e).parent().offset().top),t.data(e,"bar_l",t(e).parent().outerHeight()),t.data(e,"handle_o",t(e).offset().top),t.data(e,"handle_l",t(e).outerHeight())):(t.data(e,"bar_o",t(e).parent().offset().left),t.data(e,"bar_l",t(e).parent().outerWidth()),t.data(e,"handle_o",t(e).offset().left),t.data(e,"handle_l",t(e).outerWidth())),t.data(e,"bar",t(e).parent()),t.data(e,"settings",i)},set_initial_position:function(e){var a=t.data(e.children(".range-slider-handle")[0],"settings"),i="number"!=typeof a.initial||isNaN(a.initial)?Math.floor(.5*(a.end-a.start)/a.step)*a.step+a.start:a.initial,n=e.children(".range-slider-handle");this.set_ui(n,i)},set_value:function(e){var a=this;t("["+a.attr_name()+"]",this.scope).each(function(){t(this).attr(a.attr_name(),e)}),t(this.scope).attr(a.attr_name())&&t(this.scope).attr(a.attr_name(),e),a.reflow()},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var a=t(this).children(".range-slider-handle")[0],i=t(this).attr(e.attr_name());e.initialize_settings(a),i?e.set_ui(t(a),parseFloat(i)):e.set_initial_position(t(this))})}}}(jQuery,window,window.document);